/*
 * NMChannel.h
 *
 *  Created on: 2015年10月12日
 *      Author: Administrator
 */

#ifndef NMCHANNEL_H_
#define NMCHANNEL_H_

#include "Resource.h"
#include <vector>

typedef enum {
    dcc,
    dcn
}NM_Port_Mode_E;

class CCrossConnection;

class NMChannel : public Resource {
public:
    NMChannel(NM_Port_Mode_E mode);
    virtual ~NMChannel();

    NM_Port_Mode_E getMode(void) {
        return WorkMode;
    };

    bool receivData(void);
    virtual void sendData(uint8* d, uint32 len) = 0;

    virtual bool havePacet(void) = 0;
    virtual int getPacketLen(void) = 0;
    virtual bool getPacketData(uint8*d, uint16 len = 0, uint16 startPos = 0) = 0;
    virtual void discardPacket() = 0;

private:
    NM_Port_Mode_E WorkMode;
    std::vector<CCrossConnection*> LinkInfo;
};

#endif /* NMCHANNEL_H_ */
